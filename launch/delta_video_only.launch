<launch>
  <!--
  <arg name="camera_topic" default="/camera/image_raw" />
  -->
  
  # TODO share parts of this w/ tracking?
  # TODO break this up like tracking, particularly if i'm going to be using this primarily
  # on acquisition computer? (w/ multiple copies of this, thus benefitting from modularity)

  # load parameters for the tracking, and the data association
  <rosparam command="load" file="tracker_parameters.yaml"/>
  
  # load parameters for, process, and save, delta video bag file
  <rosparam command="load" file="delta_video_parameters.yaml"/>
  
  # set up src and data directories and define prefix name
  <node name="set_exp_basename" pkg="multi_tracker" type="set_basename.py" output="screen" />
  
  <node name="delta_video" pkg="multi_tracker" type="delta_video_simplebuffer.py" output="screen" required="true" >
    <!-- TODO any performance cost to remapping (if default, could avoid maybe) (probably not)? -->
    <!-- TODO TODO are any other nodes subscribing to this topic directly? -->
    <!--
    <remap from="/camera/image_raw" to="$(arg camera_topic)" />
    -->
  </node>
  
  <node name="save_delta_video" pkg="multi_tracker" type="save_bag.py" output="screen" required="true" />
  
  # TODO fix package here after moving this file to metatools
  # TODO equivalent of required, but just for process to finish cleanly?
  <node name="snapshot_params" pkg="multi_tracker" type="snapshot_params.py" output="screen" />
</launch>
