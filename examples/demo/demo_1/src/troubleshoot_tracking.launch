<launch>

# set up src and data directories and define prefix name
<rosparam command="load" file="home_directory.yaml"/>
<node name="set_exp_basename_1" pkg="multi_tracker" type="set_basename_and_path.py" output="screen" args="--nodenum=1" />

# load parameters for the tracking, and the data association
<rosparam command="load" file="tracker_parameters.yaml"/>
<rosparam command="load" file="data_association_parameters.yaml"/>

# launch tracking and data association nodes
<node name="tracker_1" pkg="multi_tracker" type="tracker_simplebuffer.py" output="screen" args="--nodenum=1" />
<node name="data_association_1" pkg="multi_tracker" type="data_association.py" output="screen" args="--nodenum=1" />

# load parameters for live viewer
<rosparam command="load" file="liveviewer_parameters.yaml"/>
<node name="liveview_1" pkg="multi_tracker" type="liveviewer.py" output="screen" args="--nodenum=1" />

<rosparam command="load" file="delta_video_parameters.yaml"/>
<node name="delta_video_1" pkg="multi_tracker" type="delta_video_simplebuffer.py" output="screen" args="--nodenum=1" />

<node name="threshold_view" pkg="image_view" type="image_view" output="screen">
    <remap from="image" to="/multi_tracker/1/1_thresholded" />
</node>
<node name="denoised_view" pkg="image_view" type="image_view" output="screen">
    <remap from="image" to="/multi_tracker/1/2_denoised" />
</node>
<node name="dilated_view" pkg="image_view" type="image_view" output="screen">
    <remap from="image" to="/multi_tracker/1/3_dilated" />
</node>
<node name="eroded_view" pkg="image_view" type="image_view" output="screen">
    <remap from="image" to="/multi_tracker/1/4_eroded" />
</node>

</launch>
